{% block content %}
  <div class="card shadow-sm mb-4">
    <div class="card-body">
      <h5 class="card-title">Workout Calendar</h5>
      <div id="calendar-container">
        <div id="calendar">

        </div>
      </div>
      <button class="btn btn-outline-primary mt-3" id="expand-calendar">Enlarge</button>
    </div>
  </div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    var calendarEl = document.getElementById('calendar');
    var calendar = new FullCalendar.Calendar(calendarEl, {
      initialView: 'dayGridMonth',
      selectable: true,
      editable: true,
      events: [
        {
          title: 'Leg Day',
          start: '2025-08-29'
        },
        {
          title: 'Push Workout',
          start: '2025-08-31'
        }
      ],
      dateClick: function(info) {
        alert('Clicked on: ' + info.dateStr);
        // later: open modal to add workout here
      }
    });
    calendar.render();

    const btn=document.getElementById("expand-calendar");
    btn.addEventListener("click",()=>{
        const container=document.getElementById("calendar-container");
        container.classList.toggle("fullscreen-calendar");
        calendar.updateSize();
        btn.textContent=container.classList.contains("fullscreen-calendar")
            ? "Shrink"
            :"Enlarge"
    });
  });
</script>
{% endblock %}
